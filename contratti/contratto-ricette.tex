\documentclass[12pt]{extarticle}

\begin{document}

\title{Contratti "Gestire Ricette"}
\date{}
\maketitle

\begin{center}
  \section*{Contratti scenario principale di successo}
\end{center}

\subsection*{Pre-condizione generale}
\begin{itemize}
  \item L'utente deve essere registrato con una istanza \textbf{c} di cuoco o di chef
\end{itemize}

\section*{1. creaRicetta(\underline{titolo}?: testo)}
\textbf{Pre-condizioni}
\begin{itemize}
  \item Pre-condizione generale
\end{itemize}
\textbf{Post-condizioni}
\begin{itemize}
  \item l'istanza \textbf{c} di cuoco o chef è associata alla ricetta creata
  \item è stata creata una istanza \textbf{r} di ricetta
  \item $[$se è specificato un \underline{titolo}$]$ \textbf{r}.titolo = \underline{titolo}
  \item \textbf{c} è proprietario di \textbf{r}
  \item \textbf{r}.pubblicata = no
  \item \textbf{r}.alternativa = no
\end{itemize}

\section*{2. scriviPassoRicetta(\underline{dettagli}: Testo)}

\textbf{Pre-condizioni} 	
\begin{itemize}
  \item è in corso la creazione di una ricetta  \textbf{r}
\end{itemize}
\textbf{Post-condizioni}
\begin{itemize}
  \item è stato aggiunto un passo  \textbf{p} alla ricetta
  \item p.dettagli = \underline{dettagli}
  \item  \textbf{r} contiene  \textbf{p}
\end{itemize}


\section*{3. segnaIndicazioni(\underline{ingredienti}: testo, \underline{dosi}?: numero)}

\textbf{Pre-condizioni}
\begin{itemize}
  \item è in corso la creazione di una ricetta  \textbf{r}
\end{itemize}
\textbf{Post-condizioni}
\begin{itemize}
    \item \textbf{r}.ingredienti = \underline{ingredienti}
    \item (se specificate) \textbf{r}.dosi = \underline{dosi}
    \item sono aggiunti gli ingredienti \underline{ingredienti} e (se specificate) le dosi  \underline{dosi} alla ricetta \textbf{r}
\end{itemize}



\section*{4. inserisciTagRicetta(\underline{t}: Tag)}

\textbf{Pre-condizioni}
\begin{itemize}
  \item è in corso la creazione di una ricetta  \textbf{r}
\end{itemize}
\textbf{Post-condizioni}
\begin{itemize}
  \item La ricetta  \textbf{r} è stata associata al tag \underline{t} 
\end{itemize}

\section*{5. pubblicaRicetta()}

\textbf{Pre-condizioni}
\begin{itemize}
  \item è in corso la creazione di una ricetta  \textbf{r}
\end{itemize}
\textbf{Post-condizioni}
\begin{itemize}
  \item \textbf{r}.pubblicata = si
\end{itemize}

\newpage
\begin{center}
  \section*{Contratti per le estensioni}
\end{center}

\subsection*{2a. modificaDettagliPasso(\underline{p}: Passo, \underline{d}: Testo)}

\textbf{Pre-condizioni}
\begin{itemize}
  \item è in corso la creazione di una ricetta  \textbf{r}
  \item il passo \underline{p} esiste e appartiene alla ricetta \textbf{r}
\end{itemize}
\textbf{Post-condizioni}
\begin{itemize}
  \item i dettagli del passo \underline{p} della ricetta \textbf{r} sono stati modificati
  \item \underline{p}.dettagli = \underline{d};
  \item \textbf{r} contiene \underline{p}
\end{itemize}

\subsection*{2b. eliminaPasso(\underline{p}: Passo)}

\textbf{Pre-condizioni}
\begin{itemize}
  \item è in corso la creazione di una ricetta  \textbf{r}
  \item il passo \underline{p} esiste e appartiene alla ricetta \textbf{r}
\end{itemize}
\textbf{Post-condizioni}
\begin{itemize}
  \item il passo \underline{p} è rimosso dalla lista di passi della ricetta \textbf{r}
\end{itemize}

\subsection*{2c. selezionaPassiDaRaggruppare(\underline{lista\_lp}: Passo)}

\textbf{Pre-condizioni}
\begin{itemize}
  \item è in corso la creazione di una ricetta  \textbf{r}
  \item i passi contenuti in \underline{lista\_lp} esistono e appartengono alla ricetta \textbf{r}
\end{itemize}
\textbf{Post-condizioni}
\begin{itemize}
  \item \textbf{p1} è una istanza di \textit{Passo}
  \item i passi della \underline{lista\_lp} selezionati della ricetta  \textbf{r} sono stati raggruppati in \textbf{p1}
  \item  la ricetta \textbf{r} contiene  \textbf{p1}
\end{itemize}

\subsection*{2d. aggiungiVariante(\underline{p}: Passo, \underline{pv}: Passo, \underline{d}: Testo)}

\textbf{Pre-condizioni}
\begin{itemize}
  \item è in corso la creazione di una ricetta  \textbf{r}
  \item il passo \underline{p} appartiene a \textbf{r}
\end{itemize}
\textbf{Post-condizioni}
\begin{itemize}
  \item un passo  \underline{pv} variante del passo \underline{p} è stato aggiunto alla ricetta  \textbf{r}
  \item \underline{pv}.dettagli = d
\end{itemize}

\subsection*{2e. aggiungiRipetizione(\underline{p}: Passo, \underline{pr}: Passo)}
\begin{itemize}
  \item è in corso la creazione di una ricetta  \textbf{r}
  \item il passo \underline{p} appartiene a \textbf{r}
\end{itemize}
\textbf{Post-condizioni}
\begin{itemize}
  \item un passo \underline{pr} ripetizione del passo \underline{p} è stato aggiunto alla ricetta  \textbf{r}
\end{itemize}

\subsection*{3a. segnalaPreparazioneEsistente(\underline{preparazione}: Preparazione)}

\textbf{Pre-condizioni}
\begin{itemize}
  \item è in corso la creazione di una ricetta  \textbf{r}
\end{itemize}
\textbf{Post-condizioni}
\begin{itemize}
  \item il nome \textbf{n} della preparazione \underline{preparazione} è aggiunta agli ingredienti della ricetta  \textbf{r}
  \item \textbf{r}.ingredienti = n
\end{itemize}

\subsection*{3b. modificaDose(\underline{ingr}: testo, \underline{dose}: numero)}

\textbf{Pre-condizioni}
\begin{itemize}
  \item è in corso la creazione di una ricetta \textbf{r}
  \item l'ingrediente \underline{ingr} di cui si vuole modificare la dose esiste in \textbf{r}
\end{itemize}
\textbf{Post-condizioni}
\begin{itemize}
  \item La dose \underline{dose} dell'ingrediente \underline{ingr} nella ricetta \textbf{r} è modificata
  \item \textbf{r}.dose = \underline{dose}
\end{itemize}

\subsection*{(2-4)a. inserisciTitolo(\underline{titolo}: testo)}

\textbf{Pre-condizioni}
\begin{itemize}
  \item è in corso la creazione di una ricetta  \textbf{r}
\end{itemize}
\textbf{Post-condizioni}
\begin{itemize}
  \item \textbf{r}.titolo = \underline{titolo}
\end{itemize}

\subsection*{(2-4)b. segnaAlternativa(\underline{r\_originale}: Ricetta)}

\textbf{Pre-condizioni}
\begin{itemize}
  \item è in corso la creazione di una ricetta \textbf{r}
\end{itemize}
\textbf{Post-condizioni}
\begin{itemize}
  \item La ricetta \textbf{r} è stata segnalata come alternativa della Ricetta \underline{r\_originale}
\end{itemize}

\subsection*{(2-5)a. interrompiCompilazione()}

\textbf{Pre-condizioni}
\begin{itemize}
  \item è in corso la creazione di una ricetta  \textbf{r}
\end{itemize}
\textbf{Post-condizioni}
\begin{itemize}
  \item la ricetta  \textbf{r} viene salvata
  \item la compilazione è interrotta
  \item \textbf{r}.pubblicata = no
\end{itemize}




\end{document}



