\documentclass[12pt]{extarticle}

\begin{document}

\title{Contratti "Gestire Ricette"}
\date{}
\maketitle

\begin{center}
  \section*{Contratti scenario principale di successo}
\end{center}

\subsection*{Pre-condizione generale}
\begin{itemize}
  \item L'utente deve essere registrato con una istanza \textbf{c} di cuoco o di chef
\end{itemize}

\section*{1. creaRicetta(titolo?: testo)}
\textbf{Pre-condizioni}
\begin{itemize}
  \item Pre-condizione generale
\end{itemize}
\textbf{Post-condizioni}
\begin{itemize}
  \item l'istanza \textbf{c} di cuoco o chef è associata alla ricetta creata
  \item è stata creata una istanza \textbf{r} di ricetta
  \item (se è specificato un titolo) \textbf{r}.titolo = titolo
  \item \textbf{c} è proprietario di \textbf{r}
  \item \textbf{r}.pubblicata = no
  \item \textbf{r}.alternativa = no
\end{itemize}

\section*{2. scriviPassoRicetta(dettagli: Testo)}

\textbf{Pre-condizioni} 	
\begin{itemize}
  \item è in corso la creazione di una ricetta  \textbf{r}
\end{itemize}
\textbf{Post-condizioni}
\begin{itemize}
  \item è stato aggiunto un passo  \textbf{p} alla ricetta
  \item p.dettagli = dettagli
  \item  \textbf{r} contiene  \textbf{p}
\end{itemize}


\section*{3. segnaIndicazioni(ingredienti: testo, dosi?: numero)}

\textbf{Pre-condizioni}
\begin{itemize}
  \item è in corso la creazione di una ricetta  \textbf{r}
\end{itemize}
\textbf{Post-condizioni}
\begin{itemize}
    \item \textbf{r}.ingredienti = ingredienti
    \item (se specificate) \textbf{r}.dosi = dosi
    \item sono aggiunti gli ingredienti  \textbf{ingredienti} e (se specificate) le dosi  \textbf{dosi} alla ricetta \textbf{r}
\end{itemize}



\section*{4. inserisciTagRicetta(t:Tag)}

\textbf{Pre-condizioni}
\begin{itemize}
  \item è in corso la creazione di una ricetta  \textbf{r}
\end{itemize}
\textbf{Post-condizioni}
\begin{itemize}
  \item La ricetta  \textbf{r} è stata associata al tag \textbf{t} 
\end{itemize}

\section*{5. pubblicaRicetta()}

\textbf{Pre-condizioni}
\begin{itemize}
  \item è in corso la creazione di una ricetta  \textbf{r}
\end{itemize}
\textbf{Post-condizioni}
\begin{itemize}
  \item \textbf{r}.pubblicata = si
\end{itemize}

\newpage
\begin{center}
  \section*{Contratti per le estensioni}
\end{center}

\subsection*{2a. modificaDettagliPasso(p: Passo, d: Testo)}

\textbf{Pre-condizioni}
\begin{itemize}
  \item è in corso la creazione di una ricetta  \textbf{r}
  \item il passo  \textbf{p} esiste e appartiene alla ricetta \textbf{r}
\end{itemize}
\textbf{Post-condizioni}
\begin{itemize}
  \item i dettagli del passo \textbf{p} della ricetta \textbf{r} sono stati modificati
  \item p.dettagli = d;
  \item  \textbf{r} contiene  \textbf{p}
\end{itemize}

\subsection*{2b. eliminaPasso(p: Passo)}

\textbf{Pre-condizioni}
\begin{itemize}
  \item è in corso la creazione di una ricetta  \textbf{r}
  \item il passo  \textbf{p} esiste e appartiene alla ricetta \textbf{r}
\end{itemize}
\textbf{Post-condizioni}
\begin{itemize}
  \item il passo  \textbf{p} è rimosso dalla lista di passi della ricetta \textbf{r}
\end{itemize}

\subsection*{2c. selezionaPassiDaRaggruppare(lista\_lp: Passo)}

\textbf{Pre-condizioni}
\begin{itemize}
  \item è in corso la creazione di una ricetta  \textbf{r}
  \item i passi contenuti in \textbf{lista\_lp} esistono e appartengono alla ricetta \textbf{r}
\end{itemize}
\textbf{Post-condizioni}
\begin{itemize}
  \item \textbf{p1} è una istanza di Passo
  \item i passi della \textbf{lista\_lp} selezionati della ricetta  \textbf{r} sono stati raggruppati in \textbf{p1}
  \item  la ricetta \textbf{r} contiene  \textbf{p1}
\end{itemize}

\subsection*{2d. aggiungiVariante(p: Passo, pv: Passo, d: Testo)}

\textbf{Pre-condizioni}
\begin{itemize}
  \item è in corso la creazione di una ricetta  \textbf{r}
  \item il passo \textbf{p} appartiene a \textbf{r}
\end{itemize}
\textbf{Post-condizioni}
\begin{itemize}
  \item un passo  \textbf{pv} variante del passo  \textbf{p} è stato aggiunto alla ricetta  \textbf{r}
  \item pv.dettagli = d
\end{itemize}

\subsection*{2e. aggiungiRipetizione(p: Passo, pr: Passo)}
\begin{itemize}
  \item è in corso la creazione di una ricetta  \textbf{r}
  \item il passo \textbf{p} appartiene a \textbf{r}
\end{itemize}
\textbf{Post-condizioni}
\begin{itemize}
  \item un passo  \textbf{pr} ripetizione del passo  \textbf{p} è stato aggiunto alla ricetta  \textbf{r}
\end{itemize}

\subsection*{3a. segnalaPreparazioneEsistente(preparazione: Preparazione)}

\textbf{Pre-condizioni}
\begin{itemize}
  \item è in corso la creazione di una ricetta  \textbf{r}
\end{itemize}
\textbf{Post-condizioni}
\begin{itemize}
  \item il nome \textbf{n} della preparazione  \textbf{preparazione} è aggiunta agli ingredienti della ricetta  \textbf{r}
  \item \textbf{r}.ingredienti = n
\end{itemize}

\subsection*{3b. modificaDose(ingr: testo, dose: numero)}

\textbf{Pre-condizioni}
\begin{itemize}
  \item è in corso la creazione di una ricetta  \textbf{r}
  \item l'ingrediente \textbf{ingr} di cui si vuole modificare la dose esiste in \textbf{r}
\end{itemize}
\textbf{Post-condizioni}
\begin{itemize}
  \item La dose \textbf{dose} dell'ingrediente \textbf{ingr} nella ricetta \textbf{r} è modificata
  \item \textbf{r}.dose = dose
\end{itemize}

\subsection*{(2-4)a. inserisciTitolo(titolo: testo)}

\textbf{Pre-condizioni}
\begin{itemize}
  \item è in corso la creazione di una ricetta  \textbf{r}
\end{itemize}
\textbf{Post-condizioni}
\begin{itemize}
  \item \textbf{r}.titolo = titolo
\end{itemize}

\subsection*{(2-4)b. segnaAlternativa(r\_originale:Ricetta)}

\textbf{Pre-condizioni}
\begin{itemize}
  \item è in corso la creazione di una ricetta  \textbf{r}
\end{itemize}
\textbf{Post-condizioni}
\begin{itemize}
  \item La ricetta  \textbf{r} è stata segnalata come alternativa della Ricetta  \textbf{r\_originale}
\end{itemize}

\subsection*{(2-5)a. interrompiCompilazione()}

\textbf{Pre-condizioni}
\begin{itemize}
  \item è in corso la creazione di una ricetta  \textbf{r}
\end{itemize}
\textbf{Post-condizioni}
\begin{itemize}
  \item la ricetta  \textbf{r} viene salvata
  \item la compilazione è interrotta
  \item \textbf{r}.pubblicata = no
\end{itemize}




\end{document}



